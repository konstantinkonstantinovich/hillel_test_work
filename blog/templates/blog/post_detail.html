{% extends "base_generic.html" %}

{% block content %}
  <!-- Page Content -->
  <div class="container">

    <div class="row">

      <!-- Post Content Column -->
      <div class="col-lg-8">

        <!-- Title -->
        <h1 class="mt-4">{{ object.title }}</h1>

        <!-- Author -->
        <p class="lead">
          by
          <a href="{% url 'user-detail' %}">{{object.author}}</a>
        </p>

        <hr>

        <!-- Date/Time -->
        <p>Posted on {{ object.publishing_data }}</p>

        <hr>

        <!-- Preview Image -->
        {% if object.image %}
            <img class="img-fluid rounded" src="{{ object.image.url }}" alt="connect" style="max-height:300px">
        <hr>
        {% endif %}




        <!-- Post Content -->
        <p class="lead">{{ object.description }}</p>

        {% autoescape off %}
            {{ object.text}}
        {% endautoescape %}

        <hr>
              <form method="post">{% csrf_token %}
                <table>{{ form.as_table }}</table>
                <input type="submit" value="Post">
              </form>
        <!-- Comments Form -->
        <div class="card my-4">
          <h5 class="card-header">Leave a Comment:</h5>

          <div class="card-body">


          </div>
        </div>


        <!-- Comment -->
        <div class="media mb-4">
          <div class="media-body">
            {% for object in object_list%}
              {% if object.author.username == 'anon' %}
                <hr> Anon: {{ object.comment }} - {{ object.pub_data }}
            {% else %}
                <hr> <a href="{% url 'user-detail' %}" >{{ object.author.username }}:</a> {{ object.comment }} - {{ object.pub_data }}
            {% endif %}
            {%empty%}
            <p>No comments</p>
            {% endfor %}
          </div>
        </div>


      {% if is_paginated %}
          {% include "pagination.html" %}
      {% endif %}

      </div>
    </div>
    <!-- /.row -->
  </div>
  <!-- /.container -->

{% endblock %}
